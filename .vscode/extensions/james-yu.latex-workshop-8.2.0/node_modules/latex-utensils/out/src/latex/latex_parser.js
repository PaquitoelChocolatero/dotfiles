"use strict";
function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
const _latexParser = require("./latex_parser_simple");
const _latexParserWithTrace = require("./latex_parser_trace");
const timeout_1 = require("../pegjs/timeout");
var stringify_1 = require("./stringify");
exports.stringify = stringify_1.stringify;
__export(require("./latex_parser_types"));
function parse(s, _option) {
    const option = _option ? Object.assign({}, _option) : undefined;
    if (option && option.timeout) {
        if (typeof option.timeout !== 'object') {
            option.timeout = new timeout_1.TimeKeeper(option.timeout);
        }
    }
    if (option && option.tracer) {
        return _latexParserWithTrace.parse(s, option);
    }
    else {
        return _latexParser.parse(s, option);
    }
}
exports.parse = parse;
function parsePreamble(s, option) {
    const timeout = option && option.timeout;
    return parse(s, { startRule: 'Preamble', timeout });
}
exports.parsePreamble = parsePreamble;
function isSyntaxError(e) {
    return e instanceof _latexParser.SyntaxError || e instanceof _latexParserWithTrace.SyntaxError;
}
exports.isSyntaxError = isSyntaxError;
//# sourceMappingURL=latex_parser.js.map